{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/rockerbox/capstones/c2-client/mindful/src/App.js\";\nimport React, { Component } from 'react';\nimport Posts from './Entries/Entries';\nimport Form from './Form/Form';\nimport Login from './Login/Login';\nimport SignUp from './Login/SignUp';\nimport { Route } from 'react-router-dom';\nimport Edit from './Edit-Form/Edit';\nimport journalContext from './journal-context';\nimport Scream from './Scream/scream';\nimport config from './config';\nimport TokenService from './Auth-Service/token-services';\nimport './App.css';\nimport { withRouter } from 'react-router-dom';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      posts: [],\n      user_name: '',\n      currentDateSelection: '',\n      calendarClicked: false\n    };\n\n    this.updateCurrentDate = date => {\n      this.setState({\n        currentDateSelection: date\n      });\n    };\n\n    this.setPostsforStats = posts => {\n      let user_name = localStorage.getItem('user_name');\n      fetch(`${config.API_ENDPOINT}/api/${user_name}`, {\n        headers: {\n          'session_token': `${TokenService.getAuthToken()}`\n        }\n      }).then(res => {\n        if (!res.ok) {\n          return res.json().then(e => Promise.reject(e));\n        }\n\n        return res.json();\n      }).then(posts => {\n        this.updatePostsInState(posts);\n      }).catch(error => {\n        this.props.history.push('/');\n      });\n    };\n\n    this.updatePostsInState = posts => {\n      this.setState({\n        posts: posts\n      });\n    };\n\n    this.setUserName = user_name => {\n      this.setState({\n        user_name: user_name\n      });\n    };\n\n    this.removePost = index => {\n      const {\n        posts\n      } = this.state;\n      this.setState({\n        posts: posts.filter(post => {\n          return post.id !== index;\n        })\n      });\n    };\n\n    this.handleSubmit = post => {\n      this.setState({\n        posts: [...this.state.posts, post]\n      });\n    };\n\n    this.handleUpdate = updatedPost => {\n      const updatedPosts = this.state.posts.map(post => {\n        return post.id === Number(updatedPost.id) ? updatedPost : post;\n      });\n      this.setState({\n        posts: updatedPosts\n      });\n    };\n\n    this.setClicked = () => {\n      this.setState({\n        calendarClicked: true\n      });\n    };\n  }\n\n  componentDidMount() {\n    let user_name = localStorage.getItem('user_name');\n    this.setState({\n      user_name: user_name\n    });\n    fetch(`${config.API_ENDPOINT}/api/${user_name}`, {\n      headers: {\n        'session_token': `${TokenService.getAuthToken()}`\n      }\n    }).then(res => {\n      if (!res.ok) {\n        return res.json().then(e => Promise.reject(e));\n      }\n\n      return res.json();\n    }).then(posts => {\n      this.updatePostsInState(posts);\n    }).catch(error => {\n      this.props.history.push('/');\n    });\n  }\n\n  render() {\n    const postValues = {\n      posts: this.state.posts,\n      addPost: this.handleSubmit,\n      deletePost: this.removePost,\n      updatePost: this.handleUpdate,\n      setUserName: this.setUserName,\n      updatePostsInState: this.updatePostsInState,\n      user_name: this.state.user_name,\n      updateCurrentDate: this.updateCurrentDate,\n      currentDateSelection: this.state.currentDateSelection,\n      setClicked: this.setClicked,\n      clicked: this.state.calendarClicked,\n      setPostsforStats: this.setPostsforStats\n    };\n    return /*#__PURE__*/_jsxDEV(journalContext.Provider, {\n      value: postValues,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          component: Login\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), \"\\\\            \", /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          render: props => /*#__PURE__*/_jsxDEV(Posts, { ...props,\n            entryData: this.state.posts,\n            removeEntry: this.removePost\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/add-entry\",\n          render: props => /*#__PURE__*/_jsxDEV(Form, { ...props,\n            handleSubmit: this.handleSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/sign-up\",\n          component: SignUp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/edit/:id\",\n          component: Edit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/scream\",\n          component: Scream\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(App);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/rockerbox/capstones/c2-client/mindful/src/App.js"],"names":["React","Component","Posts","Form","Login","SignUp","Route","Edit","journalContext","Scream","config","TokenService","withRouter","App","state","posts","user_name","currentDateSelection","calendarClicked","updateCurrentDate","date","setState","setPostsforStats","localStorage","getItem","fetch","API_ENDPOINT","headers","getAuthToken","then","res","ok","json","e","Promise","reject","updatePostsInState","catch","error","props","history","push","setUserName","removePost","index","filter","post","id","handleSubmit","handleUpdate","updatedPost","updatedPosts","map","Number","setClicked","componentDidMount","render","postValues","addPost","deletePost","updatePost","clicked"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Posts from './Entries/Entries';\nimport Form from './Form/Form';\nimport Login from './Login/Login';\nimport SignUp from './Login/SignUp';\nimport { Route } from 'react-router-dom';\nimport Edit from './Edit-Form/Edit';\nimport journalContext from './journal-context';\nimport Scream from './Scream/scream';\nimport config from './config';\nimport TokenService from './Auth-Service/token-services';\nimport './App.css';\nimport { withRouter } from 'react-router-dom';\n\n\n\nclass App extends Component {\n  state = {\n    posts: [],\n    user_name:'',\n    currentDateSelection : '',\n    calendarClicked : false\n \n  }\n\n  componentDidMount(){\n    \n    let user_name = localStorage.getItem('user_name')\n    \n    this.setState({user_name:user_name})\n\n    fetch(`${config.API_ENDPOINT}/api/${user_name}`, {\n      headers: {\n        'session_token':`${TokenService.getAuthToken()}`\n      }\n    })\n    .then(res => {\n      if(!res.ok){\n        return res.json().then(e => Promise.reject(e))\n      }\n      return res.json()\n    })\n\n    .then(posts => {\n      this.updatePostsInState(posts)\n    })\n    .catch(error => {\n      this.props.history.push('/')\n    })\n  }\n\n\n  updateCurrentDate = date => {\n    this.setState({currentDateSelection: date})\n  }\n\n\n  setPostsforStats = posts => {\n\n    let user_name = localStorage.getItem('user_name')\n    \n    fetch(`${config.API_ENDPOINT}/api/${user_name}`, {\n      headers: {\n        'session_token':`${TokenService.getAuthToken()}`\n      }\n    })\n    .then(res => {\n      if(!res.ok){\n        return res.json().then(e => Promise.reject(e))\n      }\n      return res.json()\n    })\n\n    .then(posts => {\n      this.updatePostsInState(posts)\n    })\n    .catch(error => {\n      this.props.history.push('/')\n    })\n\n  }\n\n\n  updatePostsInState = posts => {\n    this.setState({posts : posts})\n  }\n \n   setUserName = user_name => {\n     this.setState({user_name: user_name})\n   }\n \n   removePost = index => {\n     const { posts } = this.state\n \n     this.setState({\n       posts: posts.filter ((post) => {\n         return post.id !== index\n       })\n     })\n   }\n \n   handleSubmit = post => {\n     this.setState({ posts: [...this.state.posts, post]})\n   }\n \n   handleUpdate = updatedPost => {\n     const updatedPosts = this.state.posts.map(post => {\n       return post.id === Number(updatedPost.id) ? updatedPost : post\n     })\n \n     this.setState({\n       posts : updatedPosts\n     })\n   }\n\n   setClicked = () => {\n     this.setState({calendarClicked : true})\n   }\n \n\n  render () {\n\n    const postValues = {\n      posts: this.state.posts,\n      addPost : this.handleSubmit,\n      deletePost: this.removePost,\n      updatePost: this.handleUpdate,\n      setUserName: this.setUserName,\n      updatePostsInState: this.updatePostsInState,\n      user_name: this.state.user_name,\n      updateCurrentDate : this.updateCurrentDate,\n      currentDateSelection : this.state.currentDateSelection,\n      setClicked : this.setClicked,\n      clicked : this.state.calendarClicked,\n      setPostsforStats : this.setPostsforStats\n    \n\n\n\n\n    }\n    \n    return (\n      <journalContext.Provider value={postValues}>\n\n      <div className=\"App\">   \n            <Route exact path = '/' component={Login}/>   \n\\            <Route\n              path='/dashboard'\n              render={(props) => (\n               <Posts\n               {...props}\n               entryData={this.state.posts} removeEntry={this.removePost}/>      \n               )}\n            /> \n        \n           <Route\n            path='/add-entry'\n            render={(props) => (\n            <Form\n            {...props}\n            handleSubmit={this.handleSubmit}/>      \n            )}\n          />     \n          <Route path='/sign-up' component={SignUp} />     \n          <Route path='/edit/:id' component={Edit} />   \n          <Route path='/scream' component={Scream} />  \n        </div>\n      </journalContext.Provider >\n\n    );\n  }\n\n}\n\nexport default withRouter(App);\n\n\n"]},"metadata":{},"sourceType":"module"}