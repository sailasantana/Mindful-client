{"ast":null,"code":"import _objectSpread from\"/Users/rockerbox/capstones/c2-client/mindful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/rockerbox/capstones/c2-client/mindful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/rockerbox/capstones/c2-client/mindful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rockerbox/capstones/c2-client/mindful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/rockerbox/capstones/c2-client/mindful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/rockerbox/capstones/c2-client/mindful/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import Posts from'./Entries/Entries';import Form from'./Form/Form';import ReactCalendar from'./Calendar/Calendar';import Login from'./Login/Login';import SignUp from'./Login/SignUp';import{Route}from'react-router-dom';import Edit from'./Edit-Form/Edit';import journalContext from'./journal-context';import Scream from'./Scream/scream';import Logout from'./Login/Logout';import config from'./config';import TokenService from'./Auth-Service/token-services';import'./App.css';import Stats from'./Stats/stats';import{withRouter}from'react-router-dom';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={posts:[],user_name:'',currentDateSelection:'',calendarClicked:false};_this.updateCurrentDate=function(date){_this.setState({currentDateSelection:date});};_this.updatePostsInState=function(posts){_this.setState({posts:posts});};_this.setUserName=function(user_name){_this.setState({user_name:user_name});};_this.removePost=function(index){var posts=_this.state.posts;_this.setState({posts:posts.filter(function(post){return post.id!==index;})});};_this.handleSubmit=function(post){_this.setState({posts:[].concat(_toConsumableArray(_this.state.posts),[post])});};_this.handleUpdate=function(updatedPost){var updatedPosts=_this.state.posts.map(function(post){return post.id===Number(updatedPost.id)?updatedPost:post;});_this.setState({posts:updatedPosts});};_this.setClicked=function(){_this.setState({calendarClicked:true});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var user_name=localStorage.getItem('user_name');this.setState({user_name:user_name});fetch(\"\".concat(config.API_ENDPOINT,\"/api/\").concat(user_name),{headers:{'session_token':\"\".concat(TokenService.getAuthToken())}}).then(function(res){if(!res.ok){return res.json().then(function(e){return Promise.reject(e);});}return res.json();}).then(function(posts){_this2.updatePostsInState(posts);}).catch(function(error){alert('You must be logged in to continue');_this2.props.history.push('/');});}},{key:\"render\",value:function render(){var _this3=this;var postValues={posts:this.state.posts,addPost:this.handleSubmit,deletePost:this.removePost,updatePost:this.handleUpdate,setUserName:this.setUserName,updatePostsInState:this.updatePostsInState,user_name:this.state.user_name,updateCurrentDate:this.updateCurrentDate,currentDateSelection:this.state.currentDateSelection,setClicked:this.setClicked,clicked:this.state.calendarClicked};return/*#__PURE__*/_jsx(journalContext.Provider,{value:postValues,children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-view\",children:/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:Login})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-view\",children:[/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",component:Logout}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",component:ReactCalendar}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",component:Stats}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",render:function render(props){return/*#__PURE__*/_jsx(Posts,_objectSpread(_objectSpread({},props),{},{entryData:_this3.state.posts,removeEntry:_this3.removePost}));}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-view\",children:/*#__PURE__*/_jsx(Route,{path:\"/add-entry\",render:function render(props){return/*#__PURE__*/_jsx(Form,_objectSpread(_objectSpread({},props),{},{handleSubmit:_this3.handleSubmit}));}})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",component:SignUp}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-view\",children:[/*#__PURE__*/_jsx(Route,{path:\"/edit/:id\",component:Logout}),/*#__PURE__*/_jsx(Route,{path:\"/edit/:id\",component:Edit})]}),/*#__PURE__*/_jsx(\"div\",{className:\"scream-view\",children:/*#__PURE__*/_jsx(Route,{path:\"/scream\",component:Scream})})]})});}}]);return App;}(Component);export default withRouter(App);","map":{"version":3,"sources":["/Users/rockerbox/capstones/c2-client/mindful/src/App.js"],"names":["React","Component","Posts","Form","ReactCalendar","Login","SignUp","Route","Edit","journalContext","Scream","Logout","config","TokenService","Stats","withRouter","App","state","posts","user_name","currentDateSelection","calendarClicked","updateCurrentDate","date","setState","updatePostsInState","setUserName","removePost","index","filter","post","id","handleSubmit","handleUpdate","updatedPost","updatedPosts","map","Number","setClicked","localStorage","getItem","fetch","API_ENDPOINT","headers","getAuthToken","then","res","ok","json","e","Promise","reject","catch","error","alert","props","history","push","postValues","addPost","deletePost","updatePost","clicked"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Posts from './Entries/Entries';\nimport Form from './Form/Form';\nimport ReactCalendar from './Calendar/Calendar';\nimport Login from './Login/Login';\nimport SignUp from './Login/SignUp';\nimport { Route } from 'react-router-dom';\nimport Edit from './Edit-Form/Edit';\nimport journalContext from './journal-context';\nimport Scream from './Scream/scream';\nimport Logout from './Login/Logout';\nimport config from './config';\nimport TokenService from './Auth-Service/token-services';\nimport './App.css';\nimport Stats from './Stats/stats';\nimport { withRouter } from 'react-router-dom';\n\n\n\nclass App extends Component {\n  state = {\n    posts: [],\n    user_name:'',\n    currentDateSelection : '',\n    calendarClicked : false\n \n  }\n\n  componentDidMount(){\n    \n    let user_name = localStorage.getItem('user_name')\n    \n    this.setState({user_name:user_name})\n\n    fetch(`${config.API_ENDPOINT}/api/${user_name}`, {\n      headers: {\n        'session_token':`${TokenService.getAuthToken()}`\n      }\n    })\n    .then(res => {\n      if(!res.ok){\n        return res.json().then(e => Promise.reject(e))\n      }\n      return res.json()\n    })\n\n    .then(posts => {\n      this.updatePostsInState(posts)\n    })\n    .catch(error => {\n      alert('You must be logged in to continue')\n      this.props.history.push('/')\n    })\n  }\n\n\n  updateCurrentDate = date => {\n    this.setState({currentDateSelection: date})\n  }\n\n\n  updatePostsInState = posts => {\n    this.setState({posts : posts})\n  }\n \n   setUserName = user_name => {\n     this.setState({user_name: user_name})\n   }\n \n   removePost = index => {\n     const { posts } = this.state\n \n     this.setState({\n       posts: posts.filter ((post) => {\n         return post.id !== index\n       })\n     })\n   }\n \n   handleSubmit = post => {\n     this.setState({ posts: [...this.state.posts, post]})\n   }\n \n   handleUpdate = updatedPost => {\n     const updatedPosts = this.state.posts.map(post => {\n       return post.id === Number(updatedPost.id) ? updatedPost : post\n     })\n \n     this.setState({\n       posts : updatedPosts\n     })\n   }\n\n   setClicked = () => {\n     this.setState({calendarClicked : true})\n   }\n \n\n  render () {\n\n    const postValues = {\n      posts: this.state.posts,\n      addPost : this.handleSubmit,\n      deletePost: this.removePost,\n      updatePost: this.handleUpdate,\n      setUserName: this.setUserName,\n      updatePostsInState: this.updatePostsInState,\n      user_name: this.state.user_name,\n      updateCurrentDate : this.updateCurrentDate,\n      currentDateSelection : this.state.currentDateSelection,\n      setClicked : this.setClicked,\n      clicked : this.state.calendarClicked\n    \n\n\n\n\n    }\n    \n    return (\n      <journalContext.Provider value={postValues}>\n\n      <div className=\"App\">\n      <div className =\"login-view\">\n      <Route exact path = '/' component={Login}/>\n      </div>  \n      <div className=\"dashboard-view\"> \n      <Route path='/dashboard' component={Logout} />\n      <Route path ='/dashboard' component={ReactCalendar}/>\n      <Route path = '/dashboard' component={Stats}/>\n      <Route\n        path='/dashboard'\n        render={(props) => (\n         <Posts\n         {...props}\n         entryData={this.state.posts} removeEntry={this.removePost}/>      \n         )}\n      />\n      </div>\n      <div className = \"form-view\">\n      <Route\n        path='/add-entry'\n        render={(props) => (\n         <Form\n         {...props}\n         handleSubmit={this.handleSubmit}/>      \n         )}\n      /> \n      </div> \n\n     \n      <Route path='/sign-up' component={SignUp} />\n      <div className = \"edit-view\">\n      <Route path='/edit/:id' component={Logout} />\n      <Route path='/edit/:id' component={Edit} />\n      </div>\n      <div className = \"scream-view\">\n      <Route path='/scream' component={Scream} />\n      </div>\n      </div>\n      </journalContext.Provider >\n\n    );\n  }\n\n}\n\nexport default withRouter(App);\n\n\n"]},"metadata":{},"sourceType":"module"}