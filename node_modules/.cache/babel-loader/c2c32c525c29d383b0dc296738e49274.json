{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/rockerbox/capstones/c2-client/mindful/src/Edit-Form/Edit.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport journalContext from '../journal-context';\nexport default class Edit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.submitUpdate = () => {\n      console.log(this.props.match.params);\n      console.log('abc');\n      this.setState({\n        error: null,\n        submitted: true\n      });\n      let newEntry = {\n        title: this.titleInput.current.value,\n        content: this.bodyInput.current.value\n      };\n      fetch(`${config.API_ENDPOINT}/api/${this.context.user_name}`, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify(newEntry)\n      }).then(res => {\n        if (!res.ok) {\n          return res.json().then(e => Promise.reject(e));\n        }\n\n        return res.json();\n      }).then(post => {\n        this.context.addPost(post);\n      }).catch(error => {\n        alert({\n          error\n        });\n      });\n    };\n\n    this.bodyInput = /*#__PURE__*/React.createRef();\n    this.state = {\n      error: null\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Edit Your Entry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Entry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"What Would you like to Change?\",\n          type: \"textarea\",\n          name: \"body\",\n          id: \"body\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.submitUpdate,\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nEdit.defaultProps = {\n  history: {\n    goBack: () => {}\n  },\n  match: {\n    params: {}\n  }\n};\nEdit.contextType = journalContext;","map":{"version":3,"sources":["/Users/rockerbox/capstones/c2-client/mindful/src/Edit-Form/Edit.js"],"names":["React","Link","journalContext","Edit","Component","constructor","props","submitUpdate","console","log","match","params","setState","error","submitted","newEntry","title","titleInput","current","value","content","bodyInput","fetch","config","API_ENDPOINT","context","user_name","method","headers","body","JSON","stringify","then","res","ok","json","e","Promise","reject","post","addPost","catch","alert","createRef","state","render","defaultProps","history","goBack","contextType"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,cAAP,MAA2B,oBAA3B;AAEA,eAAe,MAAMC,IAAN,SAAmBH,KAAK,CAACI,SAAzB,CAAmC;AAa9CC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SASlBC,YATkB,GASH,MAAM;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAL,CAAWI,KAAX,CAAiBC,MAA7B;AAIAH,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACA,WAAKG,QAAL,CAAc;AACVC,QAAAA,KAAK,EAAE,IADG;AAEVC,QAAAA,SAAS,EAAE;AAFD,OAAd;AAKA,UAAIC,QAAQ,GAAG;AACXC,QAAAA,KAAK,EAAG,KAAKC,UAAL,CAAgBC,OAAhB,CAAwBC,KADrB;AAEXC,QAAAA,OAAO,EAAE,KAAKC,SAAL,CAAeH,OAAf,CAAuBC;AAFrB,OAAf;AAKDG,MAAAA,KAAK,CAAE,GAAEC,MAAM,CAACC,YAAa,QAAO,KAAKC,OAAL,CAAaC,SAAU,EAAtD,EAA0D;AAC9DC,QAAAA,MAAM,EAAE,MADsD;AAE9DC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAFqD;AAK9DC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAehB,QAAf;AALwD,OAA1D,CAAL,CAOEiB,IAPF,CAOOC,GAAG,IAAI;AACT,YAAG,CAACA,GAAG,CAACC,EAAR,EAAW;AACP,iBAAOD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBI,CAAC,IAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAArB,CAAP;AACH;;AACD,eAAOH,GAAG,CAACE,IAAJ,EAAP;AACH,OAZF,EAaEH,IAbF,CAaOO,IAAI,IAAI;AACV,aAAKd,OAAL,CAAae,OAAb,CAAqBD,IAArB;AACH,OAfF,EAgBEE,KAhBF,CAgBQ5B,KAAK,IAAI;AACZ6B,QAAAA,KAAK,CAAC;AAAC7B,UAAAA;AAAD,SAAD,CAAL;AACH,OAlBF;AA0BF,KAnDiB;;AAEd,SAAKQ,SAAL,gBAAiBrB,KAAK,CAAC2C,SAAN,EAAjB;AACA,SAAKC,KAAL,GAAa;AACT/B,MAAAA,KAAK,EAAG;AADC,KAAb;AAIH;;AA8CDgC,EAAAA,MAAM,GAAE;AAEJ,wBACI;AAAA,8BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAEA;AAAA,gCACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADR,eAEQ;AACI,UAAA,WAAW,EAAC,gCADhB;AAEI,UAAA,IAAI,EAAC,UAFT;AAGI,UAAA,IAAI,EAAC,MAHT;AAII,UAAA,EAAE,EAAC;AAJP;AAAA;AAAA;AAAA;AAAA,gBAFR;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA,eAWA;AAAQ,QAAA,OAAO,EAAI,KAAKtC,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAgBL;;AApF+C;AAA7BJ,I,CAEV2C,Y,GAAe;AAClBC,EAAAA,OAAO,EAAE;AACLC,IAAAA,MAAM,EAAE,MAAM,CAAE;AADX,GADS;AAIlBtC,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAE;AADL;AAJW,C;AAFLR,I,CAWV8C,W,GAAc/C,c","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport journalContext from '../journal-context';\n\nexport default class Edit extends React.Component {\n\n    static defaultProps = {\n        history: {\n            goBack: () => {}\n        },\n        match: {\n            params: {}\n        }\n    }\n\n    static contextType = journalContext;\n\n    constructor(props){\n        super(props)\n        this.bodyInput = React.createRef();\n        this.state = {\n            error : null\n        }\n        \n    }\n\n    submitUpdate = () => {\n        console.log(this.props.match.params)\n\n\n       \n        console.log('abc')\n        this.setState({\n            error: null,\n            submitted: true\n        })\n\n        let newEntry = {\n            title : this.titleInput.current.value,\n            content: this.bodyInput.current.value\n        }\n\n       fetch(`${config.API_ENDPOINT}/api/${this.context.user_name}`,  {\n        method: 'POST',\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify(newEntry),\n        })\n        .then(res => {\n            if(!res.ok){\n                return res.json().then(e => Promise.reject(e))\n            }\n            return res.json()\n        })\n        .then(post => {\n            this.context.addPost(post)\n        })\n        .catch(error => {\n            alert({error})\n        })\n\n    \n        \n\n\n\n\n    }\n\n    render(){\n\n        return (\n            <div>\n            <h2>Edit Your Entry</h2>\n            <form>\n                    <label>Entry</label>\n                    <input \n                        placeholder=\"What Would you like to Change?\"\n                        type=\"textarea\"\n                        name=\"body\"\n                        id=\"body\"\n                    />\n            </form>\n            <button onClick = {this.submitUpdate}>Edit</button>\n            </div>\n        )\n\n  }\n\n}"]},"metadata":{},"sourceType":"module"}